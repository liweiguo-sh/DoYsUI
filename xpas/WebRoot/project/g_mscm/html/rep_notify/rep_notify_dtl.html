<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>明细需求维护</title>
	
	<script src="../../../../res/jscript/xwf.js" type="text/javascript"></script>
	<script src="../../../../res/jscript/xwf.ajax.js" type="text/javascript"></script>	
	<script src="../../../../res/jscript/xwf.const.js" type="text/javascript"></script>

	<script src="../../../../res/control/uvform/xwf.uvform.js" type="text/javascript"></script>

	<script src="../../../../res/jscript/xwf.css.js" type="text/javascript"></script>
	<style type="text/css">
		body {
			overflow: hidden;
		}
        #tbLayout {
            border-collapse: collapse;
        }
        #scanBox {
            font-size: 1em;
            font-family: Arial;
            height: 26px;
            line-height: 24px;
            border: 2px solid #19A2D5;
        }
        .fa-medkit {
            font-size: 1.5em;
            color: #19A2D5;
        }
        .import-alert {
            font-weight: bolder;
        }
        .a-small {
            font-size: 0.9em;
            color: Blue;
        }
        .a-small:hover {
            cursor: pointer;
            color: #19A2D5;
        }
        #divDC {
            width: 593px;
            padding: 5px 0 5px 5px;
            border: solid 1px lightgray;
            border-radius: 3px;
        }
        .PanelA {
            width: 578px;
            margin-left: auto;
            margin-right: auto;
        }
        #tbForm {
            width: 100%;
        }
        #tbForm thead {
            display: none;
        }
        #tbForm tbody tr {
            display: block;
            font-size: 0;
            margin-bottom: 10px;
        }
        #tbForm tbody tr:last-child {
            margin: 0;
        }
        #tbForm tbody td {
            display: inline-block;
            padding: 0;
            line-height: 30px;
        }
         #tbForm tbody td:nth-child(odd) {
            width: 80px;
        }
        #tbForm tbody td:nth-child(even) {
            width: 208px;
        }
        #tbForm tbody td input {
            width: 196px;
            text-indent: 10px;
        }
    </style>	
</head>
<body>
	<div id="divDC" class="ScreenCenter"></div>
	<div class="PanelA">
		<form id="frm" action="" target="">
			<table id="tbForm" class="tbForm">
                <thead>
                    <tr id="trH">
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                      
                    </tr>
                </thead>
				<tbody>
                    <tr>
                        <td>品名</td>
                        <td>
                            <input type="text" id="_cmatr_name" disabled="disabled" />
                        </td>
                        <td>品规</td>
                        <td>
                            <input type="text" id="_cmatr_spec" disabled="disabled" />
                        </td>
                    </tr>
                    <tr>                
                        <td>原需求行号</td>
                        <td>
                            <input type="text" id="_cref_line_no" disabled="disabled" />
                        </td>
                        <td>原科室</td>
                        <td>
                            <input type="text" id="_cref_dept_name" disabled="disabled" />
                        </td>
                    </tr>
                    <tr>
                        <td>补货数量</td>
                        <td>
                            <input type="text" id="_cpackage_qty" />
                        </td>
                        <td>补货单位</td>
                        <td>
                            <input type="text" id="_cpackage_unit" />
                        </td>
                    </tr>
                </tbody>
			</table>
			<input type="hidden" id="_crep_notify_dtl_id"/>
            <input type="hidden" id="_crep_notify_id"/>
            <input type="hidden" id="_cmatr_id" value="1"/>
            <input type="hidden" id="_cstatus_res" value="0"/>
            <input type="hidden" id="_cmatr_qty" value="0" />
            <input type="hidden" id="_cmatr_unit" value="0" />
		</form>
	</div>
</body>
</html>
<!-- formLoad -->
<script type="text/javascript">
    var frmParent = null;
    var repNotifyId = 0;
    var companyId = 0;
	// ------------------------------------------------------------------------
	function formLoad() {
        frmParent = win.parentWindow.frm;
        repNotifyId = frmParent._cREP_NOTIFY_ID.value.toInt();
        companyId = frmParent._cCOMPANY_ID.value.toInt();;
		vf.css(gId("tbForm"));
	}

	vf.afterAddnew = function () {
        frm._crep_notify_id.value = repNotifyId;
        frm._cmatr_qty.value = "1";
        frm._cstatus_res.value = "0";
        // frm._cRegister_exp.value = (new Date).toString();
	}

    function onMaterialSelected(dr) {
        drMaterial = dr;
        //clearEditForm();
        fillEditFormByMaterial(dr.matr_id.value);
        return true;
    }
    //==填充编辑界面(通过选择一个物料）==
    function fillEditFormByMaterial(material_id) {
        
        //如果未选中供应商，拿默认的填充
        gId("_cmatr_name").value = drMaterial["matr_name"].value;
        gId("_cmatr_spec").value = drMaterial["matr_spec"].value;
        gId("_cmatr_unit").value = drMaterial["matr_unit"].value;
        gId("_cmatr_id").value = drMaterial["matr_id"].value;
       
       
    }
</script>
