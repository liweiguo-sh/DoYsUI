<!DOCTYPE html>
<html>
<head>
    <title>资质分类定义</title>
	<link href="../../../../res_plugin/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
	<script src="../../../../res/jscript/xwf.js" type="text/javascript"></script>
	<script src="../../../../res/jscript/xwf.ajax.js" type="text/javascript"></script>	
	<script src="../../../../res/jscript/xwf.const.js" type="text/javascript"></script>
	<script src="../../../../res/jscript/xwf.datatable.js" type="text/javascript"></script>

	<script src="../../../../res/control/uvform/xwf.uvform.js" type="text/javascript"></script>
	<script src="../../../../res/control/upload/xwf.upload.js" type="text/javascript"></script>
	<script src="../../../../res/control/upload/xwf.upload_core.js" type="text/javascript"></script>
	<script src="../../../../res/jscript/xwf.css.js" type="text/javascript"></script>

	<script src="../../js/doc_center.js" type="text/javascript"></script>
</head>
<body>
	<div id="divDC"></div>
    <div class="PanelA">
	    <form id="frm" action="" target="g_mshare.base.Category">
		    <table id="tbForm" class="tbForm" style="width:705px">
			    <tr class="trH">
				    <th style="width:150px;"></th>
				    <th style="width:200px;"></th>
				    <th style="width:150px;"></th>
				    <th style="width:200px;"></th>
			    </tr>
			    <tr>
				    <td>类型分类</td>
				    <td><input type="text" id="_cCert_category_type"  controlType="dropdown"  fieldValue="cert_category_type" fieldText="cert_category_type_name" /></td>                     
                    <!--
                    <td>签名选项</td>
                    <td><input type="checkbox"  id="_cneed_sign"/><label for="_cneed_sign">需要签名</label></td> 
                    -->
			    </tr>
			    <tr>
				    <td>资质分类名称</td>
				    <td colspan="3"><input id="_ccert_category_name" type="text" value="" /></td>
			    </tr>
                <tr>
				    <td>文件限制类型</td>
				    <td><input id="_cext_limit" type="text" value="" /></td>
				    <td>最大文件数</td>
				    <td><input id="_cfile_max_count" type="text" value="" /></td>
			    </tr>			
			    <tr>
				    <td>单个限制 | KB</td>
				    <td><input id="_cfile_max_size" type="text" value="" /></td>
                    <td>有效期选项</td>
				    <td><input type="checkbox"  id="_chas_exp_date"/><label for="_chas_exp_date">必填</label></td>				    
			    </tr>
                <tr>
                    <td>耗材首营选项</td>
                    <td><input id="_cIs_required_0" type="text" controlType="dropdown" fieldValue="a" fieldText="b" dataSource="[['a','b'],[0,'可选项'],[1,'必选项'],[-1,'不适用']]" visibleSearch="false" /></td>
                    <td>药品首营选项</td>
                    <td><input id="_cIs_required_1" type="text" controlType="dropdown" fieldValue="a" fieldText="b" dataSource="[['a','b'],[0,'可选项'],[1,'必选项'],[-1,'不适用']]" visibleSearch="false" /></td>
                </tr>
			    <tr>
				    <td>上传文件说明</td>
				    <td colspan="3"><textarea id="_ccert_category_remark" rows="3" cols="0"></textarea></td>
			    </tr>
		    </table>
		    <input type="hidden" id="_cCert_category_id" value="" />
		    <input type="hidden" id="_cdoc_id_model" value="" />
	    </form>
	    <div style="width:100%;height:480px;overflow:auto;background-color:White;">
	        <div id="divUpload" style="width:100%;height:480px;"></div>
	    </div>
    </div>
</body>
</html>

<!-- formLoad -->
<script type="text/javascript">
    // ----------------------------------------------------
    function formLoad() {
        vf.css(gId("tbForm"));
    }
</script>

<!-- vf.event -->
<script type="text/javascript">
    vf.afterAddnew = function () {
        frm._cIs_required_0.setValue(0);
        frm._cIs_required_1.setValue(0);
    }
    vf.beforeSave = function () {
        return true;
    }
	
    vf.afterMove = function () {
        if (vf.status.equals("view")) {
            docService.createUploadArea({
                divContainer: gId("divUpload"),
                docId: gId("_cdoc_id_model").value,
                certCategoryId: gId("_cCert_category_id").value,
                afterDocSave: afterDocSave
            });
        }
        else {
            gId("_cext_limit").value = '*.*';
            gId("_cfile_max_count").value = 1;
            gId("_cfile_max_size").value = 2048;
            gId("_cdoc_id_model").value = 0;
        }
    } 

    function afterDocSave(ctl) {
        gId("_cdoc_id_model").value = ctl.docId;
        vf.save();
    }
</script>