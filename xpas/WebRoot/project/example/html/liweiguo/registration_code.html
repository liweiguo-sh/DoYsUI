<!DOCTYPE html />
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>SN</title>
    <link href="../../../../res_plugin/bootstrap4.0/my_bootstrap/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <script src="../../../../res_plugin/bootstrap4.0/my_bootstrap/jquery-3.2.1.slim.min.js" type="text/javascript"></script>
    <script src="../../../../res_plugin/bootstrap4.0/my_bootstrap/popper.min.js" type="text/javascript"></script>
    <script src="../../../../res_plugin/bootstrap4.0/my_bootstrap/bootstrap.min.js" type="text/javascript"></script>

    <script src="../../../../res/jscript/xwf.js" type="text/javascript"></script>
    <script src="../../../../res/jscript/xwf.ajax.js" type="text/javascript"></script>
    <script src="../../../../res/jscript/xwf.const.js" type="text/javascript"></script>

    <script src="../../../../res/jscript/xwf.css.js" type="text/javascript"></script>
</head>
<body>
    <div class="container">
        <div class="card card-block">
            <div class="card-header">序列号生成器</div>
            <div class="card-block">
                <label for="txtRegKey">请输入原始字符串 </label>
                <input type="text" class="form-control" id="txtRegKey" placeholder="原始字符串" /> 
                <br />
                <label for="txtSN">序列号</label>
                <textarea class="form-control" id="txtSN" rows="6" placeholder="序列号结果"></textarea>
                <br />
                <a href="#" class="btn btn-primary" onclick="generateSN()" >生成序列号</a>
            </div>
        </div>
    </div>
</body>
</html>

<!-- formLoad -->
<script type="text/javascript">
    var parentWin = null;
    // ------------------------------------------------------------------------
    function formLoad() {
        parentWin = win.parentWindow;
    }

    function generateSN() {
        var regKey = gId("txtRegKey").value;
        if (g.a.send("processType=example.tools.SN_Generator&actionType=getSN", { appKey: "wwms", regKey: regKey }, true)) {
            if (g.a.OK) {
                var cReturn = g.a.cReturn;
                var sn = cReturn["sn"];
                gId("txtSN").value = sn;

            }
            else {
                return false;
            }
        }
        else {
            return false;
        }
    }
</script>