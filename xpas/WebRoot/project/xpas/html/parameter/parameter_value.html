<!DOCTYPE html>
<html>
<head>
    <title>业务参数值表</title>
	<script src="../../../../res/jscript/xwf.js" type="text/javascript"></script>
	<script src="../../../../res/jscript/xwf.ajax.js" type="text/javascript"></script>	
	<script src="../../../../res/jscript/xwf.const.js" type="text/javascript"></script>

	<script src="../../../../res/control/uvform/xwf.uvform.js" type="text/javascript"></script>
	<script src="../../../../res/jscript/xwf.css.js" type="text/javascript"></script>
</head>
<body>
	<div id="divDC"></div>
	<form id="frm" action="" target="com.xznext.xpas.ParaManagement">
		<table id="tbForm" class="tbForm" style="width:515px;">
			<tr class="trH">
				<th style="width:120px;"></th>
				<th style="width:210px;"></th>
				<th style="width:90px;"></th>
				<th style="width:90px;"></th>
			</tr>
			<tr>				
				<td>参数值：</td>
				<td><input type="text" id="_cParameter_value" value="" /></td>
				<td>序号：</td>
				<td><input type="text" id="_cParameter_value_order" value="" /></td>
			</tr>
			<tr>				
				<td>备注：</td>
				<td colspan="3"><textarea id="_cParameter_value_remark" rows="5" cols="0"></textarea></td>
			</tr>
		</table>
		<button onclick="formLoad();" >aaa</button>
		<input id="_cParameter_value_id" type="hidden" value="" />
		<input id="_cParameter_key" type="hidden" value="" />
	</form>
</body>
</html>

<!-- formLoad -->
<script type="text/javascript">
	// ----------------------------------------------------
	function formLoad() {
		vf.css(gId("tbForm"));
	}

	vf.beforeAddnew = function () {
		var selectedNode = win.para.gridView.tree.selectedNode;
		if (selectedNode == null || selectedNode.level != 3) {
			showErr("请先选择参数名称（末级节点）。");
			return false;
		}
		return true;
	}

	vf.afterAddnew = function () {
		var selectedNode = win.para.gridView.tree.selectedNode;
		frm._cParameter_key.value = selectedNode.value;
		frm._cParameter_value_order.value = "999";
	}

	vf.afterMove = function () {
		var selectedNode = win.para.gridView.tree.selectedNode;
		if (vf.status.equals("view")) {
			if (selectedNode && selectedNode.level == 3) {
                vf.setBarVisible("addnew", true);
                vf.setBarVisible("delete", true);
                vf.setBarVisible("save", true);
			}
			else {
                vf.setBarVisible("addnew", false);
                vf.setBarVisible("delete", false);
                vf.setBarVisible("save", false);
			}
		}
	}
</script>