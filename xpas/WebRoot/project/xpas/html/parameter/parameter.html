<!DOCTYPE html>
<html>
<head>
    <title>参数名称表</title>
	<script src="../../../../res/jscript/xwf.js" type="text/javascript"></script>
	<script src="../../../../res/jscript/xwf.ajax.js" type="text/javascript"></script>	
	<script src="../../../../res/jscript/xwf.const.js" type="text/javascript"></script>
	<script src="../../../../res/jscript/xwf.datatable.js" type="text/javascript"></script>
	<script src="../../../../res/control/uvform/xwf.uvform.js" type="text/javascript"></script>

	<script src="../../../../res/jscript/xwf.css.js" type="text/javascript"></script>
</head>
<body>
	<div id="divDC"></div>
	<form id="frm" action="" target="com.xznext.xpas.ParaManagement">
		<table id="tbForm" class="tbForm" style="width:605px;">
			<tr class="trH">
				<th style="width:130px;"></th>
				<th style="width:200px;"></th>
				<th style="width:130px;"></th>
				<th style="width:140px;"></th>
			</tr>
			<tr>				
				<td>参数标识：</td>
				<td><input type="text" id="_cParameter_key" value="" /></td>
				<td>序号：</td>
				<td><input type="text" id="_cParameter_order" value="" /></td>
			</tr>
			<tr>				
				<td>参数名称：</td>
				<td><input type="text" id="_cParameter_name" value="" /></td>
				<td>参数类型：</td>
				<td>
					<select id="_cParameter_type">
						<option value='g'>全局参数</option>
						<option value='e'>企业参数</option>
						<option value='o'>其他参数</option>
					</select>
				</td>
			</tr>
			<tr>
				<td>备注：</td>
				<td colspan="3"><textarea id="_cParameter_remark" rows="3" cols="0"></textarea></td>
			</tr>
		</table>
		<input id="_cCatalog_key" type="hidden" value="" />
	</form>
</body>
</html>

<!-- formLoad -->
<script type="text/javascript">
	// ----------------------------------------------------
	function formLoad() {
		vf.css(gId("tbForm"));
	}
</script>

<!-- vf事件 -->
<script type="text/javascript">
	vf.beforeAddnew = function () {
		var selectedNode = win.para.gridView.tree.selectedNode;
		if (selectedNode == null || selectedNode.level != 2) {
			showErr("请先选择参数类别。");
			return false;
		}
		return true;
	}

	vf.afterAddnew = function () {
		if (vf.copyAdd) return;
		var selectedNode = win.para.gridView.tree.selectedNode;
		frm._cCatalog_key.value = selectedNode.value;
		frm._cParameter_order.value = "999";
		frm._cParameter_type.value = "e";
	}

	vf.afterMove = function () {
		var selectedNode = win.para.gridView.tree.selectedNode;
		if (vf.status.equals("view")) {
			if (selectedNode && selectedNode.level == 2) {
				vf.buttons["addnew"].style.display = "";
				vf.buttons["delete"].style.display = "";
				vf.buttons["save"].style.display = "";
			}
			else {
				vf.buttons["addnew"].style.display = "none";
				vf.buttons["delete"].style.display = "none";
				vf.buttons["save"].style.display = "none";
			}
		}
	}
</script>