<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>用户组定义</title>
	<script src="../../../../res/jscript/xwf.js" type="text/javascript"></script>
	<script src="../../../../res/jscript/xwf.ajax.js" type="text/javascript"></script>	
	<script src="../../../../res/jscript/xwf.const.js" type="text/javascript"></script>
	<script src="../../../../res/jscript/xwf.datatable.js" type="text/javascript"></script>
	<script src="../../../../res/control/uvform/xwf.uvform.js" type="text/javascript"></script>

	<script src="../../../../res/jscript/xwf.css.js" type="text/javascript"></script>
</head>
<body>
	<div id="divDC"></div>
	<form id="frm" action="" target="com.xznext.xpas.Group">
		<table id="tbForm" class="tbForm" style="width:625px;">
			<tr class="trH">
				<th style="width:130px;"></th>
				<th style="width:230px;"></th>
				<th style="width:160px;"></th>
				<th style="width:100px;"></th>
			</tr>
			<tr>
				<td>用户组标识：</td>
				<td><input id="_cGroup_Key" type="text" value="" /></td>
				<td>禁用：</td>
				<td><input id="_cGroup_inactive" type="checkbox" value="" /></td>
			</tr>
			<tr>
				<td>用户组名称：</td>
				<td><input id="_cGroup_name" type="text" value="" /></td>
				<td>最大可见机构层级：</td>
				<td><select id="_cGroup_option1"></select></td>				
			</tr>
			<tr>
				<td>备注：</td>
				<td colspan="3"><textarea id="_cGroup_Remark" rows="3" cols="0"></textarea></td>
			</tr>
		</table>
	</form>
</body>
</html>

<!-- formLoad -->
<script type="text/javascript">
	var windowParent = null, tree = null, node = null;
	// ----------------------------------------------------
	function formLoad() {
		vf.css(gId("tbForm"));

		var nIndex = 0;
		for (var i = topWin.officeLevel; i < 5; i++) {
			frm._cGroup_option1.options[nIndex++] = new Option(i + "级机构", i);
		}
	}
</script>

<script type="text/javascript">
	vf.afterAddnew = function () {
		frm._cGroup_option1.value = topWin.officeLevel;
	};
	vf.beforeSave = function () {
		var groupOption1 = frm._cGroup_option1.value.toInt();
		if (groupOption1 < topWin.officeLevel) {
			showWarn("您当前机构的层级是第 " + topWin.officeLevel + " 级，\n组的最大可见层级不能小于当前机构层级。");
			frm._cGroup_option1.focus();
			return false;
		}
		return true;
	}
</script>